<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
<link rel="stylesheet" href="{{ get_static_url('/static/css/style.css') }}">
<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand ps-3" href="/">
      <i class="fas fa-home"></i> Home
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-between" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <!-- You can add more menu items here if desired -->
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-user-circle"></i> {{ username }}
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
            <li><a class="dropdown-item" href="/edit-profile"><i class="fas fa-user-edit"></i> Edit Profile</a></li>
            <li><a class="dropdown-item" href="/my-usage"><i class="fas fa-chart-bar"></i> My Usage</a></li>
            <li><a class="dropdown-item" href="/api-credentials"><i class="fas fa-key"></i> API Credentials</a></li>
            {% if is_manager|default(false) or is_admin|default(false) %}
            <li><a class="dropdown-item" href="/curation-settings"><i class="fas fa-layer-group"></i> Curation Settings</a></li>
            <li><a class="dropdown-item" href="/manager/team-billing"><i class="fas fa-users-cog"></i> Team Billing</a></li>
            <li><a class="dropdown-item" href="/my-branding"><i class="fas fa-palette"></i> My Branding</a></li>
            <li><a class="dropdown-item" href="/manager/landing-analytics"><i class="fas fa-chart-area"></i> Landing Analytics</a></li>
            <li><a class="dropdown-item" href="/my-earnings"><i class="fas fa-chart-line"></i> My Earnings</a></li>
            {% endif %}
            <li><hr class="dropdown-divider"></li>
            <!-- Theme submenu -->
            <li class="dropstart">
              <a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-palette"></i> Theme
              </a>
              <ul class="dropdown-menu theme-submenu">
                <li><a class="dropdown-item theme-option" href="#" data-theme="default">Default</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="light">Light</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="writer">Writer</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="coder">Coder</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="terminal">Terminal</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="eink">E-Ink</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="neumorphism">Neumorphism</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="frutigeraero">Frutiger Aero</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="memphis">Memphis</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="katarishoji">Katari Shoji</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="xmas">Christmas</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="halloween">Halloween</a></li>
                <li><a class="dropdown-item theme-option" href="#" data-theme="valentinesday">Valentine's Day</a></li>
              </ul>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="/logout" onclick="handleLogout(event)"><i class="fas fa-sign-out-alt"></i> Log out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<script>
  function handleLogout(event) {
    event.preventDefault();
    localStorage.removeItem('selectedPromptId');
    window.location.href = '/logout';
  }
</script>
<script src="{{ get_static_url('/static/js/themeManager.js') }}"></script>
